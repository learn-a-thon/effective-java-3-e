# 아이템 16. public 클래스에서는 public 필드가 아닌 접근자 메서드를 사용하라

## 핵심정리

- `클라이언트 코드가 필드를 직접 사용하면 캡슐화의 장점을 제공하지 못한다.`

```java
// public field
class Point {
    public double x;
    public double y;

    public static void main(String[] args) {
        Point point = new Point();
        point.x = 10;
        point.y = 20;
    }
}
```

- `필드를 변경하려면 API를 변경해야 한다.`
- `필드에 접근할 때 부수 작업을 할 수 없다.`

```java
// private field & method 활용
class Point {
    private double x;
    private double y;

    public Point(double x, double y) {
        this.x = x;
        this.y = y;
    }

    public double getX() {
        // 부가 작업
        return x;
    }

    public double getY() {
        return y;
    }

    public void setX(double x) {
        // 부가 작업
        this.x = x;
    }

    public void setY(double y) {
        this.y = y;
    }
}
```

- `package-private 클래스 또는 private 중첩 클래스라면 데이터 필드를 노출해도 문제가 없다.`
    - 변경에 따른 사이드 이펙트가 적다.

## 완벽 공략

- `p103, 내부를 노출한 Dimension 클래스의 심각한 성능 문제는 오늘날까지도 해결되지 못했다.`

```java
import java.awt.*;

public class DimensionExample {
    public static void main(String[] args) {
        Button button = new Button("hello button");
        button.setBounds(0, 0, 20, 10);

        Dimension size = button.getSize();
        System.out.println("size.height = " + size.height);
        System.out.println("size.width = " + size.width);
    }
}
```

java.awt 패키지가 아님에도 Dimension 클래스 필드에 직접 접근이 가능한 문제가 있다. 때문에 불필요하게 해당 필드를 copy(새로운 객체로 감싸서) 사용해야한다.